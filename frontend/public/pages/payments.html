<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pagos - Club FAMA VALLE</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/dashboard.css">
    <link rel="stylesheet" href="../css/payments.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Mobile Menu Button -->
        <button id="mobileMenuBtn" class="mobile-menu-btn">
            <i class="fas fa-bars"></i>
        </button>
        
        <!-- Mobile Overlay -->
        <div id="mobileOverlay" class="mobile-overlay"></div>
        
        <!-- Sidebar -->
        <nav id="sidebar" class="sidebar">

            <div class="sidebar-header">
                <img src="../images/logo.jpg" alt="Club FAMA VALLE" class="sidebar-logo">
                <span>CLUB FAMA VALLE</span>
            </div>

            
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="dashboard.html">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="players.html">
                        <i class="fas fa-users"></i>
                        <span>Jugadores</span>
                    </a>
                </li>
                <li class="nav-item active">
                    <a href="payments.html">
                        <i class="fas fa-money-bill-wave"></i>
                        <span>Pagos</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="calendar.html">
                        <i class="fas fa-calendar-alt"></i>
                        <span>Calendario</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="formations.html">
                        <i class="fas fa-basketball-ball"></i>
                        <span>Sistemas de Juego</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="reports.html">
                        <i class="fas fa-chart-bar"></i>
                        <span>Informes</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="birthdays.html">
                        <i class="fas fa-birthday-cake"></i>
                        <span>Cumpleaños</span>
                    </a>
                </li>

            </ul>



            
            <div class="sidebar-footer">
                <div class="user-info">
                    <i class="fas fa-user-circle"></i>
                    <span id="userName">Usuario</span>
                </div>
                <button onclick="logout()" class="btn-logout">
                    <i class="fas fa-sign-out-alt"></i> Salir
                </button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <header class="header">
                <h1><i class="fas fa-money-bill-wave"></i> Gestión de Pagos</h1>
                <button onclick="showAddPaymentModal()" class="btn-primary">
                    <i class="fas fa-plus"></i> Registrar Pago
                </button>
            </header>

            <div class="payments-summary">
                <div class="summary-card income">
                    <i class="fas fa-arrow-up"></i>
                    <div>
                        <h3 id="totalIncome">$0</h3>
                        <p>Ingresos del Mes</p>
                    </div>
                </div>
                <div class="summary-card pending">
                    <i class="fas fa-clock"></i>
                    <div>
                        <h3 id="pendingAmount">$0</h3>
                        <p>Pagos Pendientes</p>
                    </div>
                </div>
                <div class="summary-card overdue">
                    <i class="fas fa-exclamation-circle"></i>
                    <div>
                        <h3 id="overdueAmount">$0</h3>
                        <p>Pagos Rechazados</p>
                    </div>
                </div>
            </div>

            <div class="payments-filters">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchPayment" placeholder="Buscar pago..." onkeyup="searchPayments()">
                </div>
                <div class="filter-group">
                    <select id="monthFilter" onchange="filterPayments()">
                        <option value="">Todos los meses</option>
                        <option value="1">Enero</option>
                        <option value="2">Febrero</option>
                        <option value="3">Marzo</option>
                        <option value="4">Abril</option>
                        <option value="5">Mayo</option>
                        <option value="6">Junio</option>
                        <option value="7">Julio</option>
                        <option value="8">Agosto</option>
                        <option value="9">Septiembre</option>
                        <option value="10">Octubre</option>
                        <option value="11">Noviembre</option>
                        <option value="12">Diciembre</option>
                    </select>
                    <select id="statusFilter" onchange="filterPayments()">
                        <option value="">Todos los estados</option>
                        <option value="paid">Pagado</option>
                        <option value="pending">Pendiente</option>
                        <option value="overdue">Vencido</option>
                    </select>
                </div>
            </div>

            <div class="table-container">
                <table id="paymentsTable">
                    <thead>
                        <tr>
                            <th>Jugador</th>
                            <th>Concepto</th>
                            <th>Mes</th>
                            <th>Monto</th>
                            <th>Fecha Pago</th>
                            <th>Método</th>
                            <th>Estado</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="paymentsBody">
                        <!-- Se llena con JavaScript -->
                    </tbody>
                </table>
            </div>
        </main>
    </div>

    <!-- Modal de Pago -->
    <div id="paymentModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closePaymentModal()">&times;</span>
            <h2><i class="fas fa-money-bill-wave"></i> Registrar Pago</h2>
            <form id="paymentForm">
                <div class="form-group">
                    <label>Jugador</label>
                    <select id="paymentPlayer" required>
                        <option value="">Seleccionar jugador</option>
                    </select>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Concepto</label>
                        <select id="paymentConcept" required>
                            <option value="mensualidad">Mensualidad</option>
                            <option value="inscripcion">Inscripción</option>
                            <option value="uniforme">Uniforme</option>
                            <option value="evento">Evento Especial</option>
                            <option value="otro">Otro</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Monto</label>
                        <input type="number" id="paymentAmount" required min="0" step="0.01">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Mes correspondiente</label>
                        <select id="paymentMonth" required>
                            <option value="1">Enero</option>
                            <option value="2">Febrero</option>
                            <option value="3">Marzo</option>
                            <option value="4">Abril</option>
                            <option value="5">Mayo</option>
                            <option value="6">Junio</option>
                            <option value="7">Julio</option>
                            <option value="8">Agosto</option>
                            <option value="9">Septiembre</option>
                            <option value="10">Octubre</option>
                            <option value="11">Noviembre</option>
                            <option value="12">Diciembre</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Año</label>
                        <input type="number" id="paymentYear" required min="2024" max="2030">
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Método de pago</label>
                    <select id="paymentMethod" required>
                        <option value="efectivo">Efectivo</option>
                        <option value="transferencia">Transferencia</option>
                        <option value="tarjeta">Tarjeta</option>
                        <option value="deposito">Depósito</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Notas adicionales</label>
                    <textarea id="paymentNotes" rows="2"></textarea>
                </div>
                
                <div class="form-actions">
                    <button type="button" onclick="closePaymentModal()" class="btn-secondary">Cancelar</button>
                    <button type="submit" class="btn-primary">Guardar Pago</button>
                </div>
            </form>
        </div>
    </div>

    <script src="../js/auth.js"></script>
    <script src="../js/main.js"></script>
    <script src="../js/payments.js"></script>
</body>

</html>
